import React, { Suspense, useRef } from 'react';
import { useGLTF, OrbitControls, Environment, Float, Html } from '@react-three/drei';
import { useFrame, Canvas } from '@react-three/fiber';
import { useWindow } from '../../providers/WindowProvider'; // Adjust the import based on your project structure

function SympoLogo() {
  const { getBreakpoint } = useWindow();
  const isSmallScreen = ['xs', 'sm'].includes(getBreakpoint());
  const canvasHeight = isSmallScreen ? '70vh' : '50vh';


  return (
    <div className="w-screen" style={{ height: '50vh', position:"relative" }}>
      <div className='' style={{ position: "absolute", zIndex: 100, display: "flex", justifyContent: "end", alignItems: "end", width: "100%" , height:"100%" , pointerEvents:"none"}}>
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 512 512" style={{padding:"4px"}}>
          <path d="M0 0 C1.75494026 -0.01051392 1.75494026 -0.01051392 3.54533386 -0.02124023 C7.40221073 -0.03880617 11.25835039 -0.02720147 15.11523438 -0.01367188 C17.80131946 -0.01636717 20.48738238 -0.02024411 23.17346191 -0.02526855 C28.79882758 -0.03253295 34.42398275 -0.02298925 40.04931641 -0.00390625 C46.54045624 0.01786044 53.03109342 0.01080819 59.52222109 -0.01121187 C65.10888086 -0.02940059 70.69538985 -0.03190735 76.28206968 -0.0214572 C79.61285213 -0.01524117 82.94334836 -0.01591909 86.27412415 -0.02760315 C89.98908338 -0.03777535 93.70308102 -0.02225604 97.41796875 0 C98.51324387 -0.00809692 99.60851898 -0.01619385 100.73698425 -0.02453613 C107.1201264 0.04621465 111.01501103 0.72167232 116.20898438 4.51757812 C120.42334988 9.0646567 121.31736546 12.40588141 121.52539062 18.49804688 C121.58823242 20.24311523 121.58823242 20.24311523 121.65234375 22.0234375 C121.69166016 23.23837891 121.73097656 24.45332031 121.77148438 25.70507812 C121.81466797 26.93162109 121.85785156 28.15816406 121.90234375 29.421875 C122.00851528 32.45366194 122.1105639 35.48553127 122.20898438 38.51757812 C123.18657715 37.99848877 124.16416992 37.47939941 125.17138672 36.94458008 C128.84229695 34.99578268 132.51404643 33.04857103 136.18603516 31.10180664 C137.76698922 30.26336338 139.34772359 29.42450572 140.92822266 28.58520508 C143.2165274 27.37013118 145.50565141 26.15661263 147.79492188 24.94335938 C148.48701752 24.57543777 149.17911316 24.20751617 149.8921814 23.82844543 C155.2925872 20.96923063 160.73892285 18.25260889 166.20898438 15.51757812 C166.20898438 40.59757812 166.20898438 65.67757812 166.20898438 91.51757812 C155.7909135 86.30854269 145.45292158 81.0467897 135.20898438 75.51757812 C133.93305788 74.83116609 132.65701643 74.14496767 131.38085938 73.45898438 C128.32225044 71.81428749 125.26516587 70.1667823 122.20898438 68.51757812 C122.19496582 69.64401733 122.19496582 69.64401733 122.18066406 70.79321289 C122.12670873 74.22281456 122.0431089 77.6510892 121.95898438 81.08007812 C121.94480469 82.26150391 121.930625 83.44292969 121.91601562 84.66015625 C121.72578578 91.45136175 121.33862305 96.02920436 117.20898438 101.51757812 C113.0162695 105.40350898 109.94722099 106.63895136 104.29496765 106.65802002 C102.77461914 106.66658524 102.77461914 106.66658524 101.22355652 106.67532349 C99.55671562 106.67700027 99.55671562 106.67700027 97.85620117 106.67871094 C96.68521881 106.68367584 95.51423645 106.68864075 94.30776978 106.6937561 C91.09483121 106.70586429 87.88192903 106.71332285 84.66897178 106.71776676 C82.66063199 106.72069958 80.65229788 106.7248048 78.64396095 106.72927094 C72.35739693 106.74294325 66.07084594 106.75261101 59.78426808 106.75647283 C52.53286111 106.76095206 45.28164278 106.77849466 38.03029317 106.80747342 C32.42168884 106.82910739 26.81313751 106.83917803 21.20449191 106.84051394 C17.85634095 106.84156083 14.50850825 106.84889331 11.1603756 106.86533356 C7.4234218 106.88237332 3.68692798 106.88051852 -0.05004883 106.87402344 C-1.1552034 106.88323822 -2.26035797 106.892453 -3.39900208 106.90194702 C-9.73502898 106.86742116 -14.53957082 106.4832665 -19.43554688 102.01757812 C-23.45911253 96.85018946 -23.94743549 93.13773775 -23.98388672 86.77661133 C-23.99206421 85.9892308 -24.0002417 85.20185028 -24.00866699 84.39060974 C-24.0334904 81.78320062 -24.05003106 79.17584593 -24.06445312 76.56835938 C-24.0697768 75.67642569 -24.07510048 74.784492 -24.08058548 73.86553001 C-24.10730651 69.14253982 -24.12668292 64.41957594 -24.14111328 59.6965332 C-24.15444127 55.79427593 -24.18227409 51.89254296 -24.22314453 47.99047852 C-24.27255126 43.27314498 -24.29724438 38.55628627 -24.30434036 33.83870506 C-24.31103911 32.04501348 -24.32622527 30.25133191 -24.35023117 28.45778847 C-24.5628448 11.60869463 -24.5628448 11.60869463 -20.54995728 6.00382996 C-13.84462474 0.3380293 -8.56536335 -0.06332025 0 0 Z " fill="#ffffff" transform="translate(184.791015625,326.482421875)" />
          <path d="M0 0 C5.27616589 2.95893087 10.13064205 6.42047975 15 10 C15.57331055 10.41491699 16.14662109 10.82983398 16.73730469 11.25732422 C43.4420753 30.66969863 67.52761057 57.92974807 73.43017578 91.44238281 C77.84601509 120.77338124 70.39196109 148.05154564 53 172 C35.2220487 194.90840509 12.51082225 211.58885696 -13 225 C-14.18577637 225.62648438 -14.18577637 225.62648438 -15.39550781 226.265625 C-17.87571046 227.55879701 -20.37116981 228.81577035 -22.875 230.0625 C-24.01533691 230.65430054 -24.01533691 230.65430054 -25.17871094 231.25805664 C-30.74356265 233.95175872 -35.82592964 234.91403447 -42 234 C-45.125 232.125 -45.125 232.125 -47 229 C-47.68357774 225.52514651 -47.91239336 222.43489266 -47 219 C-43.15922154 214.00392762 -38.39821862 212.14162349 -32.75 209.8125 C-12.364002 201.00311553 5.42946471 188.69116614 22 174 C22.65355469 173.43152344 23.30710937 172.86304688 23.98046875 172.27734375 C39.38528359 157.97025918 51.28403141 136.26712831 52.375 115.21484375 C52.71433596 103.86712848 52.29519978 93.62570664 48 83 C47.62617188 82.05511719 47.25234375 81.11023438 46.8671875 80.13671875 C45.68088534 77.3595147 44.3814698 74.68511032 43 72 C42.53207031 71.06929688 42.06414062 70.13859375 41.58203125 69.1796875 C29.51604859 46.83527516 8.63703104 31.41973965 -12.43359375 18.18359375 C-14.71014257 16.46340848 -15.88151126 14.73573244 -16.3359375 11.9140625 C-16.40568433 7.82689835 -16.34967524 5.57877281 -14.1875 2 C-9.92427077 -1.89780958 -5.26578801 -1.63470891 0 0 Z " fill="#ffffff" transform="translate(432,130)" />
          <path d="M0 0 C2.79659888 2.18271132 3.76939596 3.66006916 4.37109375 7.15625 C4.58229249 10.99622703 4.53422347 13.14845583 2.44140625 16.484375 C-0.58701974 19.60486514 -3.82701324 21.57242683 -7.5625 23.75 C-14.55603412 27.98164068 -20.85762366 32.5845321 -27 38 C-27.97453125 38.83015625 -28.9490625 39.6603125 -29.953125 40.515625 C-46.89387787 55.21429943 -62.3076268 76.59330357 -64.21875 99.63769531 C-65.36995057 127.79414268 -56.98684191 148.07086869 -38.5625 169.1875 C-20.89522763 188.28643065 1.4006607 200.6144009 24.60546875 211.7265625 C25.68441406 212.24992188 26.76335937 212.77328125 27.875 213.3125 C28.82117188 213.76238281 29.76734375 214.21226562 30.7421875 214.67578125 C33 216 33 216 35 219 C35.79383407 223.93012739 35.71523135 227.80794774 33.125 232.125 C28.66075093 234.80354944 25.10444698 234.73298562 20 234 C15.48731116 232.46603393 11.30783957 230.40552658 7.0625 228.25 C5.86643156 227.65613223 4.67022207 227.06254847 3.47387695 226.46923828 C-32.69811131 208.32870338 -68.56791655 179.7948085 -81.875 140.1875 C-90.02461333 114.96929093 -87.86600959 87.59703354 -76.04345703 63.99267578 C-69.81728378 52.10263692 -62.07802187 41.84559986 -53 32 C-52.32453125 31.25363281 -51.6490625 30.50726563 -50.953125 29.73828125 C-41.41638663 19.69210173 -29.52156528 11.58996395 -18 4 C-17.17628906 3.43796875 -16.35257812 2.8759375 -15.50390625 2.296875 C-10.28580418 -0.99496062 -5.97187031 -2.12598583 0 0 Z " fill="#ffffff" transform="translate(92,130)" />
          <path d="M0 0 C0.96565887 -0.0038269 1.93131775 -0.00765381 2.92623901 -0.01159668 C4.96874026 -0.01431494 7.01127636 -0.00695982 9.05371094 0.00976562 C12.1485978 0.03103633 15.24112599 0.01003351 18.3359375 -0.015625 C31.04116404 -0.03310778 41.57797452 0.54899249 52.0546875 8.53125 C52.8590625 9.12808594 53.6634375 9.72492188 54.4921875 10.33984375 C57.12599122 12.59222772 58.80611864 14.68929051 60.6796875 17.59375 C61.24945313 18.45097656 61.81921875 19.30820313 62.40625 20.19140625 C67.59480163 30.70375612 67.52375928 41.16535214 67.44580078 52.64624023 C67.42974135 55.45931648 67.44569913 58.27095215 67.46484375 61.08398438 C67.48468823 76.62530841 66.08265991 89.62295663 55.171875 101.59765625 C45.43706342 110.72157884 33.89831297 113.83033977 20.85546875 113.8671875 C20.01678757 113.8738443 19.17810638 113.8805011 18.31401062 113.88735962 C16.55693736 113.89740606 14.79982656 113.90217915 13.04272461 113.90185547 C10.36313593 113.90625665 7.68516074 113.94273556 5.00585938 113.98046875 C3.28906807 113.9863332 1.57226904 113.99030508 -0.14453125 113.9921875 C-0.93840744 114.00655853 -1.73228363 114.02092957 -2.55021667 114.03573608 C-7.75941928 113.99307233 -10.94574065 113.17549817 -14.9453125 109.53125 C-17.20833217 104.45130279 -17.2300733 99.75053176 -17.20410156 94.30053711 C-17.2076062 93.39085678 -17.21111084 92.48117645 -17.21472168 91.54393005 C-17.22349616 88.54873944 -17.21770544 85.55378661 -17.2109375 82.55859375 C-17.21228526 80.47164362 -17.21422672 78.3846938 -17.21673584 76.29774475 C-17.2196812 71.92917891 -17.21540789 67.56069498 -17.20605469 63.19213867 C-17.19465348 57.59444894 -17.20122764 51.99695087 -17.21319962 46.39926815 C-17.22042801 42.09186866 -17.21812589 37.78451458 -17.21294403 33.47711372 C-17.21161062 31.41305074 -17.21324445 29.34898362 -17.21790314 27.28492546 C-17.22298518 24.40069533 -17.21523472 21.5167754 -17.20410156 18.63256836 C-17.20815002 17.78100159 -17.21219849 16.92943481 -17.21636963 16.05206299 C-17.17684364 10.52135416 -16.72340236 6.55419016 -12.94189453 2.25195312 C-8.63293426 -0.22234637 -4.88949816 -0.04284593 0 0 Z M4.0546875 21.53125 C4.0546875 44.96125 4.0546875 68.39125 4.0546875 92.53125 C23.17194204 93.86854293 23.17194204 93.86854293 38.8046875 87.78125 C45.15062104 81.43531646 46.21159322 74.76214042 46.29296875 66.109375 C46.3010405 65.29055847 46.30911224 64.47174194 46.31742859 63.62811279 C46.33123804 61.89662778 46.34197419 60.1651159 46.34985352 58.43359375 C46.36136324 56.67244425 46.3817992 54.91132935 46.41137695 53.15039062 C46.45427347 50.59481295 46.47025281 48.04026904 46.48046875 45.484375 C46.49797684 44.70700989 46.51548492 43.92964478 46.53352356 43.12872314 C46.50794347 36.59483725 44.58726899 31.40150903 40.23828125 26.47265625 C39.66207031 26.01761719 39.08585937 25.56257813 38.4921875 25.09375 C37.91339844 24.62066406 37.33460938 24.14757812 36.73828125 23.66015625 C27.67982417 17.58615603 12.06499235 21.53125 4.0546875 21.53125 Z " fill="#ffffff" transform="translate(273.9453125,78.46875)" />
          <path d="M0 0 C1.62716446 -0.01913956 1.62716446 -0.01913956 3.28720093 -0.03866577 C5.04503403 -0.04200424 5.04503403 -0.04200424 6.83837891 -0.04541016 C8.04305817 -0.05206696 9.24773743 -0.05872375 10.48892212 -0.06558228 C13.03931143 -0.0757154 15.5897273 -0.08039909 18.14013672 -0.08007812 C22.04259973 -0.08444764 25.94392886 -0.12075274 29.84619141 -0.15869141 C32.32275003 -0.16456008 34.79931404 -0.16852913 37.27587891 -0.17041016 C39.02763931 -0.19196671 39.02763931 -0.19196671 40.81478882 -0.21395874 C48.91554548 -0.16827371 48.91554548 -0.16827371 52.90332031 2.19433594 C56.43959689 6.34334806 55.85860009 10.3817875 55.8828125 15.60205078 C55.89507874 17.05106781 55.89507874 17.05106781 55.90759277 18.52935791 C55.93246851 21.7361997 55.94896873 24.94299714 55.96337891 28.14990234 C55.96870258 29.24383553 55.97402626 30.33776871 55.97951126 31.46485138 C56.00625279 37.25536906 56.02562418 43.04586511 56.04003906 48.83642578 C56.05668589 54.81994377 56.10146161 60.80291086 56.15241051 66.78622055 C56.18605541 71.38446694 56.19761355 75.98258217 56.20326614 80.58094025 C56.20998661 82.78656472 56.22522916 84.99218032 56.24915695 87.19768524 C56.28075014 90.28605609 56.28085361 93.37293598 56.2734375 96.46142578 C56.28984283 97.37178589 56.30624817 98.282146 56.32315063 99.22009277 C56.28100439 103.51033514 56.05533207 106.4083845 53.3409729 109.84234619 C49.8360287 113.07910078 47.44735869 113.41534404 42.85473633 113.45166016 C41.87329147 113.4612677 40.89184662 113.47087524 39.88066101 113.48077393 C38.29158684 113.48714874 38.29158684 113.48714874 36.67041016 113.49365234 C35.57908279 113.49935242 34.48775543 113.50505249 33.36335754 113.51092529 C31.05255096 113.52037598 28.7417309 113.52690955 26.4309082 113.53076172 C22.90177793 113.54046046 19.37323168 113.57148107 15.84423828 113.60302734 C13.59879903 113.60955819 11.35335561 113.61480834 9.10791016 113.61865234 C8.05460007 113.63099915 7.00128998 113.64334595 5.9160614 113.65606689 C0.45399141 113.63952417 -3.65877301 113.50597515 -8.31005859 110.29052734 C-10.98911589 106.2719414 -11.00616553 103.01411013 -10.31005859 98.29052734 C-8.51612192 95.42022866 -7.32742583 93.79921096 -4.31005859 92.29052734 C-1.39306585 92.20354507 1.49976689 92.17500811 4.41650391 92.19287109 C5.71072769 92.19499352 5.71072769 92.19499352 7.03109741 92.19715881 C9.79241371 92.20276547 12.55364953 92.21531907 15.31494141 92.22802734 C17.1847319 92.23304149 19.05452367 92.23760454 20.92431641 92.24169922 C25.51291418 92.25188705 30.10133749 92.27146112 34.68994141 92.29052734 C34.68994141 84.04052734 34.68994141 75.79052734 34.68994141 67.29052734 C30.78794922 67.34273437 30.78794922 67.34273437 26.80712891 67.39599609 C24.27523902 67.41942225 21.74336141 67.43762137 19.21142578 67.45532227 C17.45778968 67.4703673 15.70419094 67.49080838 13.95068359 67.5168457 C11.42357131 67.55341855 8.89695845 67.57029655 6.36962891 67.58349609 C5.20208572 67.60672188 5.20208572 67.60672188 4.01095581 67.63041687 C-0.82589738 67.63189732 -4.13154059 66.99127678 -8.31005859 64.29052734 C-10.98911589 60.2719414 -11.00616553 57.01411013 -10.31005859 52.29052734 C-8.51612192 49.42022866 -7.32742583 47.79921096 -4.31005859 46.29052734 C-1.39306585 46.20354507 1.49976689 46.17500811 4.41650391 46.19287109 C5.71072769 46.19499352 5.71072769 46.19499352 7.03109741 46.19715881 C9.79241371 46.20276547 12.55364953 46.21531907 15.31494141 46.22802734 C17.1847319 46.23304149 19.05452367 46.23760454 20.92431641 46.24169922 C25.51291418 46.25188705 30.10133749 46.27146112 34.68994141 46.29052734 C34.68994141 38.04052734 34.68994141 29.79052734 34.68994141 21.29052734 C32.00482422 21.32533203 29.31970703 21.36013672 26.55322266 21.39599609 C23.94524193 21.41940956 21.33727303 21.43761593 18.72924805 21.45532227 C16.92027524 21.47038489 15.11133881 21.49083911 13.30249023 21.5168457 C10.69847626 21.55334054 8.0949462 21.57027891 5.49072266 21.58349609 C4.68532547 21.59897995 3.87992828 21.61446381 3.05012512 21.63041687 C-1.58047119 21.63179673 -4.53432003 21.26652954 -8.31005859 18.29052734 C-10.4723874 15.53169404 -11.24948622 13.77510631 -11.68505859 10.29052734 C-11.25703054 6.86630293 -10.37087925 5.03828822 -8.31005859 2.29052734 C-4.97929216 0.07001639 -3.88739532 0.03102179 0 0 Z M38.81494141 49.66552734 C35.66199281 53.56034619 35.5746673 55.45476169 35.62744141 60.41552734 C35.63646484 61.51123047 35.64548828 62.60693359 35.65478516 63.73583984 C35.66638672 64.57888672 35.67798828 65.42193359 35.68994141 66.29052734 C44.66055598 66.84869081 44.66055598 66.84869081 52.68994141 63.29052734 C55.07693425 60.14403677 55.16245506 57.14938888 54.68994141 53.29052734 C52.89000366 50.59062073 51.60616841 48.74864084 48.68994141 47.29052734 C44.17349596 46.77923163 42.38549179 46.71594225 38.81494141 49.66552734 Z " fill="#ffffff" transform="translate(182.31005859375,78.70947265625)" />
        </svg>
      </div>
      <Canvas
        camera={{ position: [0, 0, 5] }}
        gl={{ alpha: true }}
        style={{ background: 'transparent' }}
      >
        <OrbitControls
          enableZoom={false}
          enablePan={false}
          minPolarAngle={Math.PI / 2 - Math.PI * 0.1}
          maxPolarAngle={Math.PI / 2 + Math.PI * 0.1}
        />
        <Environment preset="forest" background backgroundIntensity={0.5} backgroundBlurriness={0.08} />
        <ambientLight intensity={15} color="green" />

        <Suspense fallback={
          <Html>
            <img src="/images/pictures/finallogo.png" alt="main-logo" className="img-fluid" />
          </Html>
        }>
          <Float
            speed={5}
            rotationIntensity={0.5}
            floatIntensity={4}
            floatingRange={[0.1, -0.1]}
          >
            <Logo />
          </Float>
        </Suspense>
      </Canvas>
    </div>
  );
}

function Logo(props) {
  const { nodes } = useGLTF('models/model-draco.glb');
  const meshRef = useRef();

  useFrame(({ pointer }) => {
    if (meshRef.current) {
      meshRef.current.rotation.y = pointer.x * 0.5;
    }
  });

  return (
    <group position={[0, 0, 0]} scale={6} rotation-y={Math.PI * 0.5}>
      <mesh receiveShadow geometry={nodes['tripo_node_110ac5ce-d42b-4bc0-8254-40f1258a77a1'].geometry}>
        <meshStandardMaterial
          metalness={0.9}
          roughness={0.1}
          color="silver"
          clearcoat={1}
          reflectivity={1}
        />
      </mesh>
    </group>
  );
}

useGLTF.preload('models/model-draco.glb');

export default SympoLogo;
